<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:c="http://java.sun.com/jsp/jstl/core">
<ui:composition template="base.xhtml">
    <ui:define name="body">
        <div class="bg-gray-100 min-h-screen p-9">
            <div class="text center m-3">
                Welcome ...
            </div>
            <div class="grid grid-cols-5 gap-4">

                <div class="relative text-gray-500 focus-within:text-violet-500 m-3 col-span-4">
                    <h:form id="searchForm">
                          <span class="absolute inset-y-0 left-0 flex items-center pl-2">
                              <h:commandButton id="searchButton" action="#{publicationController.searchByString(publicationController.search)}"
                                               style="display: none"/>
                              <button type="submit" id="searchForm:searchButton" name="searchForm:searchButton"><i
                                      class="fa fa-search fa-lg"></i></button>
                          </span>
                        <h:inputText
                                styleClass="rounded-2xl py-2 pl-12 w-full text-sm bg-white text-gray-600 hover:outline hover:outline-1 hover:outline-violet-500 focus:outline focus:outline-1 focus:outline-violet-500 focus:text-black"
                                id="search"
                                value="#{publicationController.search}"/>
                    </h:form>
                </div>

                <div class="m-3 col-span-1 rounded-md outline outline-1 outline-violet-500 cursor-pointer text-center hover:bg-violet-500 text-violet-500 hover:text-white">
                    <h:form>
                        <h:commandButton class="p-1 cursor-pointer focus:outline-none"
                                         action="#{postController.addPostPage}" value="Add Post">
                            <!--                        <i class="fa fa-search fa-lg"></i>-->
                        </h:commandButton>
                    </h:form>
                </div>
            </div>


            <div class="p-3 grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <ui:repeat value="#{publicationController.publications}" var="publication">

                    <div class="max-w-sm bg-white rounded-lg border border-gray-200 shadow-md grid grid-cols-1 divide-y relative">


                                <h:panelGroup styleClass="flex items-center w-full"
                                              rendered="#{not empty publication.media and not empty publication.media.title}">
                                    <!--                                <img width="100%" class="rounded-t-lg" src="#{facesContext.externalContext.requestContextPath}/resources/media/#{publication.media.title}" alt=""></img>-->
                                    <!--                                <div class="w-64 bg-cover bg-center" style="background-image: url('#{facesContext.externalContext.requestContextPath}/resources/media/#{publication.media.title}')"></div>-->

                                    <div class="bg-cover bg-center w-full h-64"
                                         style="background-image: url('#{facesContext.externalContext.requestContextPath}/resources/media/#{publication.media.title}')">

                                    </div>
                                </h:panelGroup>

                                <!--                            <img class="rounded-t-lg" src="#{facesContext.externalContext.requestContextPath}/resources/media/#{publication.media.title}" alt=""></img>-->

                        <h:panelGroup rendered="#{not empty publication.publisher}">
                            <div class="p-5">

                                <h:panelGroup rendered="#{not empty publication.publisher}">
                                    <span class="mb-2 text-xl tracking-tight text-gray-900"> #{publication.publisher} </span>
                                </h:panelGroup>

                            </div>
                        </h:panelGroup>

                        <h:panelGroup rendered="#{not empty publication.title or not empty publication.description}">
                            <div class="p-5">

                                <h:panelGroup rendered="#{not empty publication.title}">
                                    <span class="mb-2 text-2xl font-bold tracking-tight text-gray-900"> #{publication.title} </span>
                                </h:panelGroup>

                                <h:panelGroup rendered="#{not empty publication.description}">
                                    <div>
                                        <span class="mb-3 font-normal text-gray-700"> #{publication.description} </span>
                                    </div>
                                </h:panelGroup>
                            </div>
                        </h:panelGroup>

                        <h:panelGroup rendered="#{not empty publication.event.name or not empty publication.event.date or not empty publication.event.local}">
                            <div class="p-5">
                            <h:panelGroup rendered="#{not empty publication.event.name}">
                                <div>
                                    <span class="font-semibold"> Event name : </span> #{publication.event.name}
                                </div>
                            </h:panelGroup>

                            <h:panelGroup rendered="#{not empty publication.event.date}">
                                <div>
                                    <span class="font-semibold"> Event date : </span> #{publication.event.date}
                                </div>
                            </h:panelGroup>

                            <h:panelGroup rendered="#{not empty publication.event.local}">
                                <div>
                                    <span class="font-semibold"> Event local : </span> #{publication.event.local}
                                </div>
                            </h:panelGroup>
                            </div>
                        </h:panelGroup>

                        <h:panelGroup rendered="#{not empty publication.tags}">
                            <div class="p-5">
                            <ui:repeat value="#{publication.tags}" rendered="#{not empty publication.tags}"
                                       var="tag">
                                <h:panelGroup rendered="#{not empty tag.name}">
                                    <button class="ml-2 my-1 py-2 px-4 shadow-md no-underline rounded-full bg-gray-500 text-white font-sans font-semibold text-sm border-red btn-primary hover:text-white hover:bg-red-light focus:outline-none active:shadow-none">
                                        #{tag.name}
                                    </button>
                                </h:panelGroup>
                            </ui:repeat>
                            </div>
                        </h:panelGroup>



                        <h:panelGroup rendered="#{not empty publication.viewsNumber}">
                            <div class="p-5">
                            <div class="absolute bottom-3">
                                <h:panelGroup rendered="#{not empty publication.viewsNumber}">
                                    <div class="flex flex-row ">
                                        <div>
                                            <img src="https://img.icons8.com/sf-regular-filled/24/1A1A1A/visible.png" alt="views"/>
                                        </div>
                                        <div class="mx-2">
                                            #{publication.viewsNumber}
                                        </div>
                                    </div>
                                </h:panelGroup>
                            </div>
                            </div>
                        </h:panelGroup>
                    </div>


                </ui:repeat>
            </div>


            <!--            <div class="max-w-sm bg-white rounded-lg border border-gray-200 shadow-md">-->
            <!--                <a href="#">-->
            <!--                    <img class="rounded-t-lg" src="#{facesContext.externalContext.requestContextPath}/resources/media/bbjh.png" alt=""></img>-->
            <!--                </a>-->
            <!--                <div class="p-5">-->
            <!--                    <a href="#">-->
            <!--                        <span class="mb-2 text-2xl font-bold tracking-tight text-gray-900">Noteworthy technology acquisitions 2021</span>-->
            <!--                    </a>-->
            <!--                    <p class="mb-3 font-normal text-gray-700">Here are the biggest enterprise technology acquisitions of 2021 so far, in reverse chronological order.</p>-->
            <!--                    <a href="#" class="inline-flex items-center py-2 px-3 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300">-->
            <!--                        Read more-->
            <!--                        <svg aria-hidden="true" class="ml-2 -mr-1 w-4 h-4" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>-->
            <!--                    </a>-->
            <!--                </div>-->
            <!--            </div>-->


        </div>
    </ui:define>
</ui:composition>
</html>
