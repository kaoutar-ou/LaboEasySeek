<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:c="http://java.sun.com/jsp/jstl/core">
<ui:composition template="base.xhtml">
    <ui:define name="body">
        <div class="bg-gray-100 h-screen p-9">
            <div class="text center m-3">
                Welcome ...
            </div>
            <div class="grid grid-cols-5 gap-4">

                <div class="relative text-gray-500 focus-within:text-violet-500 m-3 col-span-4">
                    <h:form id="searchForm">
                          <span class="absolute inset-y-0 left-0 flex items-center pl-2">
                              <h:commandButton id="searchButton" action="#{xmlController.searchPostsByContent}"
                                               style="display: none"/>
                              <button type="submit" id="searchForm:searchButton" name="searchForm:searchButton"><i
                                      class="fa fa-search fa-lg"></i></button>
                          </span>
                        <h:inputText
                                styleClass="rounded-2xl py-2 pl-12 w-full text-sm bg-white text-gray-600 hover:outline hover:outline-1 hover:outline-violet-500 focus:outline focus:outline-1 focus:outline-violet-500 focus:text-black"
                                id="search"
                                value="#{xmlController.searchString}"/>
                    </h:form>
                </div>

                <div class="m-3 col-span-1 rounded-md outline outline-1 outline-violet-500 cursor-pointer text-center hover:bg-violet-500 text-violet-500 hover:text-white">
                    <h:form>
                        <h:commandButton class="p-1 cursor-pointer focus:outline-none"
                                         action="#{postController.addPostPage}" value="Add Post">
                            <!--                        <i class="fa fa-search fa-lg"></i>-->
                        </h:commandButton>
                    </h:form>
                </div>

            </div>
            <div class="p-3 grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <ui:repeat value="#{xmlController.posts}" var="post">
                    <div class="rounded-md shadow-md bg-white p-3">
                        <div>
                            <span class="font-semibold"> Post title : </span> #{post.title}
                        </div>
                        <div>
                            <span class="font-semibold"> Post description : </span> #{post.description}
                        </div>
                        <div>
                            <span class="font-semibold"> Post media : </span> <a class="text-violet-500"
                                                                                 href="#{facesContext.externalContext.requestContextPath}/resources/media/#{post.photo}">#{post.photo}</a>
                        </div>


                        <div>
                            <span class="font-semibold"> Event name : </span> #{post.eventName}
                        </div>
                        <div>
                            <span class="font-semibold"> Event date : </span> #{post.eventDate}
                        </div>
                        <div>
                            <span class="font-semibold"> Event local : </span> #{post.eventLocal}
                        </div>


                        <div>
                            <span class="font-semibold"> Website : </span> #{post.website}
                        </div>
                        <div>
                            <span class="font-semibold"> Tag : </span> #{post.tag}
                        </div>
                        <div>
                            <span class="font-semibold"> Version : </span> #{post.version}
                        </div>
                    </div>
                </ui:repeat>
            </div>
            <h:form>
            <h:commandButton value="Précédent"
                             actionListener="#{xmlController.processPreviousAction}" />
            <h:commandButton value="Suivant"
                             actionListener="#{xmlController.processNextAction}" />
            </h:form>
        </div>
    </ui:define>
</ui:composition>
</html>
